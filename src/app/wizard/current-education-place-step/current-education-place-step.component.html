<div class="container col-md-12">
  <div class="widget-box">
    <div class="widget-title">
      <h5>Текущее место обучения ребенка</h5>
    </div>
    <div class="widget-content">
      <div class="row">
        <div class="col-md-12">
          <form [formGroup]="currentPlaceForm" (ngSubmit)="onSubmit()">
            <div class="form-group">
              <label for="municipality">Муниципалитет</label>
              <ng-select formControlName="municipality" (change)="onChange.municipality($event)" [clearable]="false">
                <ng-option *ngFor="let item of municipalities" [value]="item.id">
                  {{item.name}}
                </ng-option>
              </ng-select>
              <div *ngIf="formErrors.municipality" class="alert alert-danger">
                {{ formErrors.municipality }}
              </div>
            </div>
            <div class="form-group">
              <label for="institutionType">Тип образовательной организации</label>
              <ng-select formControlName="institutionType" (change)="onChange.institutionType($event)" [clearable]="false">
                <ng-option value="" selected>Не выбрано</ng-option>
                <ng-option *ngFor="let item of institutionsTypes" [value]="item.id">
                  {{item.name}}
                </ng-option>
              </ng-select>
              <div *ngIf="formErrors.institutionType" class="alert alert-danger">
                {{ formErrors.institutionType }}
              </div>
            </div>
            <div class="form-group">
              <label for="institution">Образовательная организация</label>
              <ng-select formControlName="institution" (change)="onChange.institution($event)" [clearable]="false">
                <ng-option value="" selected>Не выбрано</ng-option>
                <ng-option *ngFor="let item of institutions" [value]="item.id">
                  {{item.name}}
                </ng-option>
              </ng-select>
              <div *ngIf="formErrors.institution" class="alert alert-danger">
                {{ formErrors.institution }}
              </div>
            </div>
            <div class="form-group">
              <label for="group">Группа/Класс</label>
              <ng-select formControlName="group" (change)="onChange.group($event)" [clearable]="false">
                <ng-option value="" selected>Не выбрано</ng-option>
                <ng-option *ngFor="let item of groups" [value]="item.id">
                  {{item.name}}
                </ng-option>
              </ng-select>
            </div>
            <div class="form-group" *ngIf="currentPlaceForm.get('isOther').value">
              <mat-form-field>
                <input matInput formControlName="other" placeholder="Название организации">
              </mat-form-field>
              <div *ngIf="formErrors.other" class="alert alert-danger">
                {{ formErrors.other }}
              </div>
            </div>
            <div class="form-group">
              <mat-checkbox class="example-margin" formControlName="isOther" (change)="onChange.isOther($event)">Нужной образовательной организации нет в списке</mat-checkbox>
            </div>
            <div>
              <span>
                <b>{{currentPlaceForm.value | json}}</b>
              </span>
              <span>currentPlaceForm.status:
                <b>{{currentPlaceForm.status | json}}</b>
              </span>
            </div>
          </form>
        </div>

      </div>
    </div>
  </div>
  <div class="widget-box">
    <div class="widget-content">
      <div class="row">
        <div class="col-md-12">
          <div class="form-actions" style="text-align: center;">
            <button type="button" class="btn btn-inverse" (click)="goTo.back()">Назад</button>
            <button type="submit" class="btn btn-primary" (click)="goTo.next()" [disabled]="!isValid()">Далее</button>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>